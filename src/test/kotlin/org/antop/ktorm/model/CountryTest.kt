package org.antop.ktorm.modelimport io.kotest.core.spec.style.StringSpecimport io.kotest.matchers.collections.shouldHaveSizeimport io.kotest.matchers.nulls.shouldNotBeNullimport io.kotest.matchers.shouldBeimport org.ktorm.database.Databaseimport org.ktorm.dsl.eqimport org.ktorm.entity.filterimport org.ktorm.entity.findimport org.ktorm.entity.toListimport org.springframework.boot.test.context.SpringBootTestimport org.springframework.test.annotation.Rollbackimport org.springframework.transaction.annotation.Transactional@SpringBootTest@Transactional@Rollbackclass CountryTest(val database: Database) : StringSpec({    "국가의 지역 조회" {        val country = database.countries.find { it.id eq "CA" }        country shouldNotBeNull {            id shouldBe "CA"            name shouldBe "Canada"            region.id shouldBe 2            region.name shouldBe "Americas"        }    }    "지역이 아시아인 국가 조회" {        val countries = database.countries            .filter {                it.region.name eq "Asia"            }            .toList()        countries shouldHaveSize 6    }})